# MakeAnon Docker Environment Configuration
# Copy this file to .env and fill in your values

# =============================================================================
# Required Settings
# =============================================================================

# Database password (generate a strong random password)
DB_PASSWORD=change-this-to-a-strong-password

# JWT secret for authentication (min 32 characters)
JWT_SECRET=change-this-to-a-random-string-at-least-32-chars

# Master encryption key for encrypting destination emails (64 hex chars = 32 bytes)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# CRITICAL: Keep this secret and backed up! If lost, all encrypted emails are unrecoverable.
MASTER_ENCRYPTION_KEY=

# Base URL (your domain)
BASE_URL=https://makeanon.info

# Server's public IPv4 address (for DKIM/SPF - used by Haraka)
PUBLIC_IP=

# =============================================================================
# Email Domains
# =============================================================================

# Comma-separated list of domains for aliases (first is default)
EMAIL_DOMAINS=makeanon.info,makeanon.xyz,iamanon.lol

# =============================================================================
# Outbound SMTP (for forwarding emails)
# =============================================================================

# SMTP server for sending emails
SMTP_OUTBOUND_HOST=smtp.gmail.com
SMTP_OUTBOUND_PORT=587
SMTP_OUTBOUND_SECURE=false
SMTP_OUTBOUND_USER=your-email@gmail.com
SMTP_OUTBOUND_PASS=your-app-password

# From address for system emails
SMTP_FROM_ADDRESS=noreply@makeanon.info
SMTP_FROM_NAME=MakeAnon

# =============================================================================
# Rate Limiting
# =============================================================================

# Max aliases per email address
MAX_ALIASES_PER_EMAIL=10

# Max alias creations per hour per email
ALIAS_CREATION_LIMIT_PER_HOUR=10

# Max forwards per minute per alias
FORWARD_LIMIT_PER_MINUTE=30

# =============================================================================
# Logging
# =============================================================================

# Log level: debug, info, warn, error
LOG_LEVEL=info
